<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<!-- SEO Meta Tags -->
<title>The Pacific West Coast Journey | Agroverse Cacao Journeys</title>
<meta content="A journey from Washington's borderlands near Canada to the California and Arizona desert, beginning in Spring (May) and culminating in Winter (Thanksgiving through end of winter). Visit partner venues where communities gather around regenerative cacao, following a path reminiscent of the Pacific Crest Trail." name="description"/>
<link href="https://www.agroverse.shop/cacao-journeys/pacific-west-coast-path" rel="canonical"/>
<!-- Open Graph / Facebook -->
<meta content="website" property="og:type"/>
<meta content="https://www.agroverse.shop/cacao-journeys/pacific-west-coast-path" property="og:url"/>
<meta content="The Pacific West Coast Journey | Agroverse Cacao Journeys" property="og:title"/>
<meta content="A journey from Washington's borderlands near Canada to the California and Arizona desert, beginning in Spring (May) and culminating in Winter (Thanksgiving through end of winter). Visit partner venues where communities gather around regenerative cacao." property="og:description"/>
<meta content="https://www.agroverse.shop/cacao-journeys/pacific-west-coast-path/assets/images/pacific-coast-highway.jpg" property="og:image"/><meta content="630" property="og:image:height"/><meta content="1200" property="og:image:width"/>
<!-- Twitter -->
<meta content="summary_large_image" property="twitter:card"/>
<meta content="https://www.agroverse.shop/cacao-journeys/pacific-west-coast-path" property="twitter:url"/>
<meta content="The Pacific West Coast Journey | Agroverse Cacao Journeys" property="twitter:title"/>
<meta content="A journey from Washington's borderlands near Canada to the California and Arizona desert, beginning in Spring (May) and culminating in Winter (Thanksgiving through end of winter). Visit partner venues where communities gather around regenerative cacao." property="twitter:description"/>
<meta content="https://www.agroverse.shop/cacao-journeys/pacific-west-coast-path/assets/images/pacific-coast-highway.jpg" property="twitter:image"/>
<!-- Favicon -->
<link href="../../assets/images/logo/favicon-192x192.jpeg" rel="icon" sizes="192x192" type="image/jpeg"/>
<link href="../../assets/images/logo/favicon-32x32.jpeg" rel="icon" sizes="32x32" type="image/jpeg"/>
<link href="../../assets/images/logo/favicon-32x32.jpeg" rel="shortcut icon" type="image/jpeg"/>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&amp;family=Open+Sans:wght@400;700&amp;display=swap" rel="stylesheet"/>
<!-- Leaflet CSS for maps -->
<link crossorigin="" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" rel="stylesheet"/>
<style>
        :root {
            --color-primary: #3b3333;
            --color-secondary: #4d4d4d;
            --color-accent: #fefc8f;
            --color-text: #3b3333;
            --color-text-light: #756F63;
            --color-bg: #ffffff;
            --color-bg-light: #f7f7f7;
            --font-heading: 'Playfair Display', serif;
            --font-body: 'Open Sans', sans-serif;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-body);
            color: var(--color-text);
            line-height: 1.6;
            background-color: var(--color-bg);
        }
        
        /* Header */
        header {
            background-color: var(--color-bg);
            padding: 1.5rem 2rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        nav {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo img {
            height: 61px;
            width: auto;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }
        
        .nav-links a {
            color: var(--color-text);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: var(--color-secondary);
        }
        
        /* Hero Section */
        .journey-hero {
            background-image: url('../../assets/images/pacific-coast-highway.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: white;
            padding: 4rem 2rem;
            text-align: center;
            position: relative;
        }
        
        .journey-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(59, 51, 51, 0.6) 0%, rgba(77, 77, 77, 0.7) 100%);
            z-index: 1;
        }
        
        .journey-hero h1,
        .journey-hero p {
            position: relative;
            z-index: 2;
        }
        
        .journey-hero h1 {
            font-family: var(--font-heading);
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .journey-hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            opacity: 0.95;
            line-height: 1.8;
        }
        
        /* Breadcrumb Navigation */
        .breadcrumb {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1.5rem 2rem 0;
            font-size: 0.95rem;
        }
        
        .breadcrumb a {
            color: var(--color-text-light);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .breadcrumb a:hover {
            color: var(--color-primary);
            text-decoration: underline;
        }
        
        .breadcrumb span {
            color: var(--color-text-light);
            margin: 0 0.5rem;
        }
        
        /* Content Section */
        .content-section {
            max-width: 1200px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }
        
        .intro-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--color-text);
            margin-bottom: 3rem;
            text-align: center;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* Map Section */
        .map-section {
            margin: 3rem 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        #journey-map {
            width: 100%;
            height: 600px;
        }
        
        /* Journey Stats */
        .journey-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
            padding: 2rem;
            background: var(--color-bg-light);
            border-radius: 12px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--color-primary);
            font-family: var(--font-heading);
        }
        
        .stat-label {
            font-size: 1rem;
            color: var(--color-text-light);
            margin-top: 0.5rem;
        }
        
        /* Journey Stops */
        .journey-stops {
            margin: 3rem 0;
        }
        
        .journey-stops h2 {
            font-family: var(--font-heading);
            font-size: 2.5rem;
            color: var(--color-primary);
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .stop-item {
            display: flex;
            gap: 2rem;
            margin-bottom: 3rem;
            padding: 2rem;
            background: var(--color-bg-light);
            border-radius: 12px;
            border-left: 4px solid var(--color-primary);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .stop-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .stop-number {
            font-family: var(--font-heading);
            font-size: 3rem;
            color: var(--color-primary);
            font-weight: 700;
            min-width: 80px;
            text-align: center;
        }
        
        .stop-image {
            width: 200px;
            height: 150px;
            object-fit: contain;
            background-color: var(--color-bg-light);;
            border-radius: 8px;
            flex-shrink: 0;
        }
        
        .stop-content {
            flex: 1;
        }
        
        .stop-content {
            flex: 1;
        }
        
        .stop-content h3 {
            font-family: var(--font-heading);
            font-size: 1.75rem;
            color: var(--color-primary);
            margin-bottom: 0.5rem;
        }
        
        .stop-content h3 a {
            color: var(--color-primary);
            text-decoration: none;
        }
        
        .stop-content h3 a:hover {
            text-decoration: underline;
        }
        
        .stop-location {
            color: var(--color-text-light);
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }
        
        .stop-description {
            line-height: 1.8;
            margin-bottom: 1rem;
        }
        
        .stop-distance {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: var(--color-primary);
            color: white;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }
        
        .stop-link {
            display: inline-block;
            color: var(--color-primary);
            font-weight: 600;
            text-decoration: none;
            margin-top: 1rem;
        }
        
        .stop-link:hover {
            text-decoration: underline;
        }
        
        .stop-link::after {
            content: ' ‚Üí';
        }
        
        .experience-gatherings {
            margin: 1rem 0;
            padding: 1rem;
            background: rgba(254, 252, 143, 0.2);
            border-radius: 8px;
            border-left: 3px solid var(--color-accent);
        }
        
        .experience-gatherings h4 {
            font-family: var(--font-heading);
            font-size: 1.1rem;
            color: var(--color-primary);
            margin-bottom: 0.5rem;
        }
        
        .experience-gatherings ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .experience-gatherings li {
            padding: 0.5rem 0;
            color: var(--color-text);
            position: relative;
            padding-left: 1.5rem;
        }
        
        .experience-gatherings li::before {
            content: '‚Ä¢';
            position: absolute;
            left: 0;
            color: var(--color-primary);
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        /* Footer */
        footer {
            background-color: var(--color-primary);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            list-style: none;
            margin: 1.5rem 0;
            flex-wrap: wrap;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
        }
        
        .footer-links a:hover {
            text-decoration: underline;
        }
        
        /* Mobile Hamburger Menu */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
            z-index: 1001;
        }
        
        .hamburger-line {
            width: 25px;
            height: 3px;
            background-color: var(--color-text);
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 2px;
        }
        
        .mobile-menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        
        .mobile-menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(2) {
            opacity: 0;
        }
        
        .mobile-menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }
        
        @media (max-width: 768px) {
            .journey-hero h1 {
                font-size: 2rem;
            }
            
            .journey-hero p {
                font-size: 1rem;
            }
            
            .stop-item {
                flex-direction: column;
                gap: 1rem;
            }
            
            .stop-image {
                width: 100%;
                height: 200px;
            }
            
            #journey-map {
                height: 400px;
            }
            
            .stop-item {
                flex-direction: column;
                gap: 1rem;
            }
            
            .stop-number {
                min-width: auto;
            }
            
            .journey-stats {
                grid-template-columns: 1fr;
            }
            
            .nav-links:not(.mobile-menu) {
                display: none !important;
            }
            
            body {
                overflow-x: hidden;
            }
            
            .mobile-menu-toggle {
                display: flex;
            }
            
            .nav-links.mobile-menu {
                position: fixed;
                top: 0;
                right: -100%;
                height: 100vh;
                width: 80%;
                max-width: 300px;
                background-color: var(--color-bg);
                flex-direction: column;
                align-items: flex-start;
                padding: 5rem 2rem 2rem;
                box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
                transition: right 0.3s ease;
                z-index: 1000;
                gap: 1.5rem;
                overflow-y: auto;
            }
            
            .nav-links.mobile-menu.active {
                right: 0;
            }
            
            .nav-links.mobile-menu li {
                width: 100%;
                border-bottom: 1px solid var(--color-bg-light);
                padding-bottom: 1rem;
            }
            
            .nav-links.mobile-menu a {
                font-size: 1.1rem;
                width: 100%;
                display: block;
            }
            
            .mobile-menu-overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 999;
            }
            
            .mobile-menu-overlay.active {
                display: block;
            }
            
            header {
                padding: 1rem 1.5rem;
            }
            
            .logo img {
                height: 48px;
            }
            
            nav {
                position: relative;
            }
        }
        
        @media (max-width: 480px) {
            header {
                padding: 0.75rem 1rem;
            }
            
            .logo img {
                height: 40px;
            }
        }
    </style>
</head>
<body>
<header>
<nav>
<a class="logo" href="../../index.html">
<img alt="Agroverse Logo" src="../../assets/images/logo/agroverse-logo.jpeg"/>
</a>
<button aria-expanded="false" aria-label="Toggle navigation menu" class="mobile-menu-toggle">
<span class="hamburger-line"></span>
<span class="hamburger-line"></span>
<span class="hamburger-line"></span>
</button>
<ul class="nav-links mobile-menu">
<li><a href="../../index.html#home">Home</a></li>
<li><a href="../../index.html#mission">Mission</a></li>
<li><a href="../../index.html#products">Products</a></li>
<li><a href="../index.html">Cacao Journeys</a></li>
<li><a href="../../index.html#shipments">Shipments</a></li>
<li><a href="../../index.html#gatherings">Gatherings</a></li>
<li><a href="../../blog/">Blog</a></li>
<li><a href="../../order-history/">Order History</a></li>
<li><a href="../../index.html#contact">Contact</a></li>
</ul>
</nav>
</header>
<div class="breadcrumb">
<a href="../index.html">‚Üê Cacao Journeys</a>
</div>
<section class="journey-hero">
<h1>The Pacific West Coast Journey</h1>
        <p>A journey from Washington's borderlands near Canada to the California and Arizona desert, connecting communities through regenerative cacao. Beginning in Spring (May) with the Okanogan Family Barter Faire and culminating in Winter (Thanksgiving period through end of winter) with desert gatherings, this seasonal migration follows a path reminiscent of the Pacific Crest Trail. Discover gathering spaces where mindful connection flourishes‚Äîfrom mountain gatherings to urban sanctuaries to winter desert retreats‚Äîeach venue a waypoint on your journey of conscious transformation.</p>
</section>
<section class="content-section">
        <div class="intro-text">
        <p>The journey begins in <strong>Spring (May)</strong> with the Okanogan Family Barter Faire in Washington and culminates in <strong>Winter (Thanksgiving period through end of winter)</strong> with desert gatherings in Arizona Quartzite, California's Salton Sea, and Joshua Tree areas. Traveling through diverse landscapes and communities‚Äîfrom mountain gatherings to Pacific Northwest creative hubs, to California's coastal sanctuaries and winter desert retreats‚Äîeach stop offers a unique space for gathering, reflection, and connection, all centered around the regenerative power of cacao.</p>
        </div>
<div class="map-section">
<div id="journey-map"></div>
</div>
<div class="journey-stats">
<div class="stat-item">
<span class="stat-value" id="total-stops">‚Äî</span>
<span class="stat-label">Stops</span>
</div>
<div class="stat-item">
<span class="stat-value" id="total-distance">‚Äî</span>
<span class="stat-label">Total Miles</span>
</div>
<div class="stat-item">
<span class="stat-value" id="estimated-time">‚Äî</span>
<span class="stat-label">Estimated Days</span>
</div>
<div class="stat-item">
<span class="stat-value">USA</span>
<span class="stat-label">Route</span>
</div>
</div>
        <div class="journey-stops">
        <h2>The Journey</h2>
        <div id="journey-stops-list">
        <!-- Stops will be inserted here by JavaScript -->
        </div>
        </div>
</section>
<footer id="contact">
<div class="footer-content">
<h3 style="font-family: var(--font-heading); font-size: 2rem; margin-bottom: 1rem;">Agroverse</h3>
<p>Regenerating our Amazon rainforest, One Cacao at a time</p>
<p>Phone: <a href="tel:4153000019" style="color: white;">415-300-0019</a></p>
<ul class="footer-links">
<li><a href="../../index.html#home">Home</a></li>
<li><a href="../../index.html#mission">Mission</a></li>
<li><a href="../../index.html#products">Products</a></li>
<li><a href="../../index.html#farmers">Farms</a></li>
<li><a href="../../index.html#shipments">Shipments</a></li>
<li><a href="../../blog/">Blog</a></li>
<li><a href="../../index.html#gatherings">Gatherings</a></li>
<li><a href="../../partners/index.html">Partners</a></li>
<li><a href="../index.html">Cacao Journeys</a></li>
<li><a href="../../order-history/">Order History</a></li>
<li><a href="mailto:community@agroverse.shop">Contact</a></li>
</ul>
<p style="margin-top: 2rem; opacity: 0.8; font-size: 0.9rem;">¬© 2024 Agroverse. All rights reserved.</p>
</div>
</footer>
<!-- Leaflet JS for maps -->
<script crossorigin="" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="../../js/config.js"></script>
<script src="../../js/partners-data.js"></script>
<script src="../../js/pacific-path-data.js"></script>
<script>
        document.addEventListener('DOMContentLoaded', function() {
        if (!window.PARTNERS_DATA) {
            console.error('Partners data not loaded');
            return;
        }
        
        // Filter partners to only include Washington, Oregon, California, and Arizona
        function filterWestCoastPartners() {
            const filtered = {};
            const westCoastStates = ['Washington', 'Oregon', 'California', 'Arizona'];
            
            for (const slug in window.PARTNERS_DATA) {
                const partner = window.PARTNERS_DATA[slug];
                const location = partner.location.toLowerCase();
                
                // Check if location contains any of the west coast states
                const isWestCoast = westCoastStates.some(state => 
                    location.includes(state.toLowerCase())
                );
                
                if (isWestCoast) {
                    filtered[slug] = partner;
                }
            }
            
            return filtered;
        }
        
        // Sort partners North to South (by latitude, descending)
        function sortNorthToSouth(partners) {
            const slugs = Object.keys(partners);
            return slugs.sort((a, b) => {
                // Sort by latitude descending (north to south)
                return partners[b].lat - partners[a].lat;
            });
        }
        
        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 6371; // Earth's radius in kilometers
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = 
                Math.sin(dLat / 2) * Math.sin(dLat / 2) +
                Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                Math.sin(dLon / 2) * Math.sin(dLon / 2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
            return R * c;
        }
        
        // Convert km to miles
        function kmToMiles(km) {
            return km * 0.621371;
        }
        
        // Filter and sort partners (excluding Ponderosa since it's part of an experience)
        const westCoastPartners = filterWestCoastPartners();
        const sortedPath = sortNorthToSouth(westCoastPartners).filter(slug => slug !== 'the-ponderosa-slab-city');
        const stops = sortedPath.map(slug => {
            const partner = westCoastPartners[slug];
            return {
                ...partner,
                description: partner.description || `Experience regenerative cacao at ${partner.name}, a gathering space where communities come together in mindful connection.`,
                isPartner: true,
                type: 'partner',
                url: `../../partners/${partner.slug}/index.html`
            };
        });
        
        // Add Slab City & Salvation Mountain experience (before Winter Desert)
        if (window.PACIFIC_PATH_DATA && window.PACIFIC_PATH_DATA['slab-city-salvation-mountain']) {
            const slabCityExperience = {
                ...window.PACIFIC_PATH_DATA['slab-city-salvation-mountain'],
                isPartner: false,
                isExperience: true
            };
            stops.push(slabCityExperience);
        }
        
        // Add winter desert experience as the final stop
        if (window.PACIFIC_PATH_DATA && window.PACIFIC_PATH_DATA['winter-desert-gatherings']) {
            const winterDesertExperience = {
                ...window.PACIFIC_PATH_DATA['winter-desert-gatherings'],
                isPartner: false,
                isExperience: true
            };
            stops.push(winterDesertExperience);
        }
        
        // Calculate day numbers for each stop
        function calculateDayNumbers() {
            const daysPerVenue = 1.5;
            const milesPerDay = 250;
            let cumulativeDays = 1;
            const dayNumbers = [];
            
            stops.forEach((stop, index) => {
                const distance = index > 0 
                    ? calculateDistance(
                        stops[index - 1].lat, stops[index - 1].lon,
                        stop.lat, stop.lon
                    )
                    : 0;
                
                const distanceMiles = kmToMiles(distance);
                const travelDays = index > 0 ? Math.ceil(distanceMiles / milesPerDay) : 0;
                const arrivalDay = Math.ceil(cumulativeDays);
                
                dayNumbers.push(arrivalDay);
                cumulativeDays += travelDays + daysPerVenue;
            });
            
            return dayNumbers;
        }
        
        const dayNumbers = calculateDayNumbers();
        
        // Initialize map
        function initMap() {
            if (stops.length === 0) return;
            
            // Calculate center and bounds
            let minLat = Infinity, maxLat = -Infinity;
            let minLon = Infinity, maxLon = -Infinity;
            
            stops.forEach(stop => {
                minLat = Math.min(minLat, stop.lat);
                maxLat = Math.max(maxLat, stop.lat);
                minLon = Math.min(minLon, stop.lon);
                maxLon = Math.max(maxLon, stop.lon);
            });
            
            const centerLat = (minLat + maxLat) / 2;
            const centerLon = (minLon + maxLon) / 2;
            
            const map = L.map('journey-map').setView([centerLat, centerLon], 5);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors',
                maxZoom: 19
            }).addTo(map);
            
            // Add route polyline
            const routePoints = stops.map(stop => [stop.lat, stop.lon]);
            const polyline = L.polyline(routePoints, {
                color: '#3b3333',
                weight: 4,
                opacity: 0.7,
                smoothFactor: 1
            }).addTo(map);
            
            // Add markers for each stop
            stops.forEach((stop, index) => {
                const stopNumber = index + 1;
                const isExperience = stop.isExperience || false;
                const marker = L.marker([stop.lat, stop.lon])
                    .addTo(map)
                    .bindPopup(`<b>Stop ${stopNumber}</b><br>${stop.name}<br>${stop.location}${isExperience ? '<br><em>Experience</em>' : ''}`);
                
                // Use star icon for experiences, numbered for partners
                let icon;
                if (isExperience) {
                    icon = L.divIcon({
                        className: 'custom-marker',
                        html: `<div style="background: #fefc8f; color: #3b3333; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 2px solid #3b3333; font-size: 16px;">‚òÖ</div>`,
                        iconSize: [30, 30],
                        iconAnchor: [15, 15]
                    });
                } else {
                    icon = L.divIcon({
                        className: 'custom-marker',
                        html: `<div style="background: #3b3333; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 2px solid white; font-size: 12px;">${stopNumber}</div>`,
                        iconSize: [30, 30],
                        iconAnchor: [15, 15]
                    });
                }
                marker.setIcon(icon);
            });
            
            // Fit map to bounds
            map.fitBounds(polyline.getBounds(), { padding: [50, 50] });
        }
        
        // Render stops list
        function renderStops() {
            const stopsList = document.getElementById('journey-stops-list');
            if (!stopsList) return;
            
            let totalDistance = 0;
            const milesPerDay = 250; // Travel speed in miles per day
            let html = '';
            
            stops.forEach((stop, index) => {
                const distance = index > 0 
                    ? calculateDistance(
                        stops[index - 1].lat, stops[index - 1].lon,
                        stop.lat, stop.lon
                    )
                    : 0;
                
                totalDistance += distance;
                
                const distanceMiles = kmToMiles(distance);
                
                // Calculate travel days from previous stop
                const travelDays = index > 0 ? Math.ceil(distanceMiles / milesPerDay) : 0;
                
                // Get arrival day from pre-calculated day numbers
                const arrivalDay = dayNumbers[index];
                
                // Determine image path
                let imagePath;
                if (stop.isExperience) {
                    imagePath = stop.image || '../../assets/partners/headers/winter-desert-gatherings-header.jpg';
                } else {
                    // Special case for Prism Percussions - use photo with Jenifer Runnion
                    if (stop.slug === 'prism-percussions') {
                        imagePath = '../../assets/partners/prism-percussions/me_with_jennifer_runnion.jpg';
                    } else {
                        const imageExt = stop.slug === 'hacker-dojo' || stop.slug === 'lumin-earth-apothecary' || stop.slug === 'republic-cafe-and-ming-lounge' ? 'jpeg' : 'jpg';
                        imagePath = `../../assets/partners/headers/${stop.slug}-header.${imageExt}`;
                    }
                }
                
                // Determine if this is an experience or partner
                const isExperience = stop.isExperience || false;
                const borderColor = isExperience ? 'var(--color-accent)' : 'var(--color-primary)';
                const stopUrl = stop.url || (isExperience ? `experiences/${stop.slug}/index.html` : `../../partners/${stop.slug}/index.html`);
                
                html += `
                    <div class="stop-item" style="border-left-color: ${borderColor};">
                        <div class="stop-number">Day ${arrivalDay}</div>
                        <img src="${imagePath}" alt="${stop.name}" class="stop-image" onerror="this.style.display='none';"/>
                        <div class="stop-content">
                            <h3><a href="${stopUrl}">${stop.name}</a></h3>
                            <div class="stop-location">üìç ${stop.location}</div>
                            ${isExperience && stop.season ? `<div class="stop-location">üóìÔ∏è ${stop.season}</div>` : ''}
                            <div class="stop-description">
                                ${stop.description || `Experience regenerative cacao at ${stop.name}, a gathering space where communities come together in mindful connection.`}
                            </div>
                            ${index > 0 ? `<span class="stop-distance">${distanceMiles.toFixed(1)} miles from previous stop (${travelDays > 0 ? travelDays + ' day' + (travelDays > 1 ? 's' : '') + ' travel' : 'same day'})</span>` : '<span class="stop-distance">Starting point</span>'}
                            <div><a href="${stopUrl}" class="stop-link">Visit ${isExperience ? 'Experience' : 'Partner'} Page</a></div>
                        </div>
                    </div>
                `;
            });
            
            stopsList.innerHTML = html;
            
            // Update stats
            const totalStopsEl = document.getElementById('total-stops');
            const totalDistanceEl = document.getElementById('total-distance');
            const estimatedTimeEl = document.getElementById('estimated-time');
            
            if (totalStopsEl) totalStopsEl.textContent = stops.length;
            if (totalDistanceEl) totalDistanceEl.textContent = Math.round(kmToMiles(totalDistance));
            if (estimatedTimeEl) {
                // Estimate: Travel time (250 miles/day) + time at venues (1-2 days per venue)
                const travelDays = Math.ceil(kmToMiles(totalDistance) / 250);
                const venueDays = stops.length * 1.5; // Average 1.5 days per venue
                const estimatedDays = Math.ceil(travelDays + venueDays);
                estimatedTimeEl.textContent = estimatedDays + '+';
            }
        }
        
        initMap();
        renderStops();
    });
</script>
<script src="../../js/universal-nav.js"></script>
<script src="../../js/cart.js"></script>
<script src="../../js/cart-ui.js"></script>
<div class="mobile-menu-overlay"></div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const menuToggle = document.querySelector('.mobile-menu-toggle');
        const mobileMenu = document.querySelector('.mobile-menu');
        const overlay = document.querySelector('.mobile-menu-overlay');
        
        if (menuToggle && mobileMenu) {
            menuToggle.addEventListener('click', function() {
                const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
                
                menuToggle.setAttribute('aria-expanded', !isExpanded);
                mobileMenu.classList.toggle('active');
                
                if (overlay) {
                    overlay.classList.toggle('active');
                }
                
                // Prevent body scroll when menu is open
                if (!isExpanded) {
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = '';
                }
            });
            
            // Close menu when clicking overlay
            if (overlay) {
                overlay.addEventListener('click', function() {
                    menuToggle.setAttribute('aria-expanded', 'false');
                    mobileMenu.classList.remove('active');
                    overlay.classList.remove('active');
                    document.body.style.overflow = '';
                });
            }
            
            // Close menu when clicking a link
            const menuLinks = mobileMenu.querySelectorAll('a');
            menuLinks.forEach(function(link) {
                link.addEventListener('click', function() {
                    menuToggle.setAttribute('aria-expanded', 'false');
                    mobileMenu.classList.remove('active');
                    if (overlay) {
                        overlay.classList.remove('active');
                    }
                    document.body.style.overflow = '';
                });
            });
            
            // Close menu on window resize if it becomes desktop view
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768) {
                    menuToggle.setAttribute('aria-expanded', 'false');
                    mobileMenu.classList.remove('active');
                    if (overlay) {
                        overlay.classList.remove('active');
                    }
                    document.body.style.overflow = '';
                }
            });
        }
    });
</script>
<link href="../../css/cart.css" rel="stylesheet"/>
</body>
</html>
